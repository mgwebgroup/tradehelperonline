<?php

namespace App\Service;

use Yasumi\Yasumi;
use Yasumi\Filters\OfficialHolidaysFilter;

class YasumiHolidays
{
	public $yasumi;

	/**
	 * Stores year with which the service was instantiated with
	 * @var integer 
	 */
	private $initYear;

	/**
	 * Makes all of methods in Yasumi available
	 */
	public function __construct()
	{
		$date = new \DateTime();
		$this->initYear = (int)$date->format('Y');
		
		$this->yasumi = Yasumi::create('USA', (int)$date->format('Y'));
		
		$this->addMissingHolidays();
		
		return $this->yasumi;
	}

	/**
	 * Will set public $yasumi prop to the new instance of Yasumi for a different year
	 * @param integer $year
	 */
	public function setYear($year)
	{
		return $this->yasumi = Yasumi::create('USA', $year);
	}

	/**
	 * Will set public $yasumi prop to the new instance of Yasumi inited with year 
	 * this service was instantiated with first time
	 * @return void
	 */
	public function revertYear()
	{
		return $this->yasumi = Yasumi::create('USA', $this->initYear);
	}

}
